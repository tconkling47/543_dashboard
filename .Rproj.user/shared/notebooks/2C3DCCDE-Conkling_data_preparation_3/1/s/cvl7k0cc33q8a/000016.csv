"0","collegetypes <- college_scorecard_19_20 %>%"
"0","  mutate("
"0","    type = case_when(CONTROL==1    ~ 'Public'"
"0","                     ,CONTROL==2 & RELAFFIL=='NULL' ~ 'Non-Profit'"
"0","                     , CONTROL==2 & RELAFFIL!='NULL'      ~ 'Religious'"
"0","                     , CONTROL==3     ~ 'For-Profit')"
"0","  ) %>%"
"0","  select(UNITID, INSTNM, type)"
"0","debt_pre_merge <- recent_cohort_field_of_study %>%"
"0","  filter(CREDLEV==3) %>%"
"0","  select(UNITID, INSTNM, CIPCODE, CIPDESC, CREDLEV, CREDDESC, DEBT_ALL_STGP_ANY_N, DEBT_ALL_STGP_ANY_MEAN)"
"0","data1 <- debt_pre_merge %>%"
"0","  filter(DEBT_ALL_STGP_ANY_N != 'PrivacySuppressed' "
"0","         & DEBT_ALL_STGP_ANY_MEAN != 'PrivacySuppressed')"
"0","data2 <- transform(data1, DEBT_ALL_STGP_ANY_N = as.numeric(DEBT_ALL_STGP_ANY_N),"
"0","                    DEBT_ALL_STGP_ANY_MEAN = as.numeric(DEBT_ALL_STGP_ANY_MEAN))"
"0","data3 <- data2 %>%"
"0","  mutate(total_debt = DEBT_ALL_STGP_ANY_N*DEBT_ALL_STGP_ANY_MEAN)"
"0","data4 <- data3 %>%"
"0","  group_by(UNITID) %>%"
"0","  summarise(total_students_in_school_sample = sum(DEBT_ALL_STGP_ANY_N),"
"0","            total_debt_in_school_sample = sum(total_debt)) %>%"
"0","  mutate(school_average_student_debt = total_debt_in_school_sample/total_students_in_school_sample)"
"0","data5 <- merge(data4, collegetypes, by=""UNITID"")"
"0","base=ggplot(data=data5,"
"0","            aes(x=type,y=school_average_student_debt))"
"0",""
"0","base + geom_boxplot() + coord_flip()"
